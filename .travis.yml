dist: xenial

jobs:
  include:
    - language: node_js
      node_js: 14
      cache: npm
      script:
      - cd frontend
      - npm install -g @angular/cli

    - language: java
      jdk:
      - oraclejdk16
      cache:
        directories:
        - $HOME/.m2
      script:
      - cd backend
      - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=brendo10x_desafio-dev -DskipTests=true
addons:
  sonarcloud:
    organization: "brendo10x"
    token:
      secure: "667b0d688576e25d1169b74df7bc591ccdae8dc6" # encrypted value of your token